$ cd vagrant/test

$ vagrant up

$ vagrant ssh-config
Host test
  HostName 127.0.0.1
  User vagrant
  Port 2200
  UserKnownHostsFile /dev/null
  StrictHostKeyChecking no
  PasswordAuthentication no
  IdentityFile ~/.vagrant.d/boxes/ten0s-VAGRANTSLASH-centos6.5_x86_64/0/virtualbox/vagrant_private_key
  IdentitiesOnly yes
  LogLevel FATAL

$ cd ../..

$ cat inventories/test
[__group__]
test ansible_ssh_host=127.0.0.1 ansible_ssh_port=2301 ansible_ssh_user=vagrant ansible_ssh_private_key_file=~/.vagrant.d/boxes/ten0s-VAGRANTSLASH-centos6.5_x86_64/0/virtualbox/vagrant_private_key

$ cat ~/.alley-ansible-vault-password.txt
xyz

$ ansible all -i inventories/test -m ping
test | success >> {
    "changed": false,
    "ping": "pong"
}

Provision environment
=====================
In inventories/tests replace __group__ with backend-dev, frontend-dev or staging,
then run one of:
$ ansible-playbook provision-backend-dev-env.yml -i inventories/test
$ ansible-playbook provision-front-dev-env.yml -i inventories/test
$ ansible-playbook provision-staging-env.yml -i inventories/test

Deploy
======
$ ansible-playbook deploy.yml -i inventories/fdev --tags funnel,kelly,just

$ ansible all -i inventories/fdev -m ping
$ ansible-playbook deploy.yml -i inventories/fdev --tags kelly
$ ansible all -i inventories/fdev -s -U bms -m shell -a '/opt/kelly/bin/kelly stop; /opt/kelly/bin/kelly start'
OR SIMPLY
$ ./deploy fdev kelly
